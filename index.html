<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/logo.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/logo32.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/logo16.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="scratch, 儿童编程" />










<meta name="description" content="层楼终究误少年,自由早晚乱余生。">
<meta property="og:type" content="website">
<meta property="og:title" content="老王的编程教室">
<meta property="og:url" content="http://www.wangwj.top/index.html">
<meta property="og:site_name" content="老王的编程教室">
<meta property="og:description" content="层楼终究误少年,自由早晚乱余生。">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="老王的编程教室">
<meta name="twitter:description" content="层楼终究误少年,自由早晚乱余生。">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://www.wangwj.top/"/>





  <title>老王的编程教室</title>
  





  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?5ab6497d6b73e1981e94fd5f91879173";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">老王的编程教室</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">欢迎留言</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="搜索..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.wangwj.top/2018/07/20/scratch-edu-5/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="老王">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="老王的编程教室">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/20/scratch-edu-5/" itemprop="url">老王教你学编程 scratch初级-5-图片添加动效</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-07-20T15:06:52+08:00">
                2018-07-20
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/scratch/" itemprop="url" rel="index">
                    <span itemprop="name">scratch</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-comment-o"></i>
              </span>
              
                <a href="/2018/07/20/scratch-edu-5/#SOHUCS" itemprop="discussionUrl">
                  <span id="url::http://www.wangwj.top/2018/07/20/scratch-edu-5/" class="cy_cmt_count" data-xid="2018/07/20/scratch-edu-5/" itemprop="commentsCount" ></span>
                </a>
              
            
          

          
          
             <span id="/2018/07/20/scratch-edu-5/" class="leancloud_visitors" data-flag-title="老王教你学编程 scratch初级-5-图片添加动效">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="课程目标"><a href="#课程目标" class="headerlink" title="课程目标"></a>课程目标</h4><p>了解和学会外观中的特效使用</p>
<h4 id="课程对象"><a href="#课程对象" class="headerlink" title="课程对象"></a>课程对象</h4><p>scratch新手</p>
<h4 id="学习模式建议"><a href="#学习模式建议" class="headerlink" title="学习模式建议"></a>学习模式建议</h4><p>先看本文脚本说明，理解主要知识点，然后动手实践。</p>
<p>视频实例工程可以在我的scratch工作室内找到：<a href="https://scratch.mit.edu/studios/5220715/" target="_blank" rel="noopener">https://scratch.mit.edu/studios/5220715/</a></p>
<h4 id="教程"><a href="#教程" class="headerlink" title="教程"></a>教程</h4><p>外观中的特效可以作用于背景和角色</p>
<h5 id="特效展示"><a href="#特效展示" class="headerlink" title="特效展示"></a>特效展示</h5><p>重复执行10次，增加各特效效果：<br><img src="https://upload-images.jianshu.io/upload_images/3789580-8bec6d70a244eaf6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>颜色：<br><img src="https://upload-images.jianshu.io/upload_images/3789580-48fa7bd62e449a96.gif?imageMogr2/auto-orient/strip" alt="动效-颜色.gif"><br>鱼眼<br><img src="https://upload-images.jianshu.io/upload_images/3789580-42180b81a9a8623e.gif?imageMogr2/auto-orient/strip" alt="鱼眼.gif"><br>旋转<br><img src="https://upload-images.jianshu.io/upload_images/3789580-e416fcc2500924f7.gif?imageMogr2/auto-orient/strip" alt="旋转.gif"><br>像素化<br><img src="https://upload-images.jianshu.io/upload_images/3789580-134dca6d3f331971.gif?imageMogr2/auto-orient/strip" alt="像素化.gif"><br>马赛克<br><img src="https://upload-images.jianshu.io/upload_images/3789580-8a163ba5ffc2828f.gif?imageMogr2/auto-orient/strip" alt="马赛克.gif"><br>亮度<br><img src="https://upload-images.jianshu.io/upload_images/3789580-8e70f4db96363edd.gif?imageMogr2/auto-orient/strip" alt="亮度.gif"><br>虚像<br><img src="https://upload-images.jianshu.io/upload_images/3789580-1028306dcc8878bc.gif?imageMogr2/auto-orient/strip" alt="虚像.gif"></p>
<h5 id="特效的应用示例"><a href="#特效的应用示例" class="headerlink" title="特效的应用示例"></a>特效的应用示例</h5><p>特效的使用需要发挥一点想象力，或者有一定艺术细胞，合理的运用会使工程增色不少。下面将介绍在一张背景图片添加一些动态效果。<br>目标背景图：<br><img src="https://upload-images.jianshu.io/upload_images/3789580-f0e6cd024e2d687e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="nightsky.png"><br><img src="https://upload-images.jianshu.io/upload_images/3789580-1fb586984ae75764.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>看到此图决定从这俩位主角头上的亮光作为基点增加动态效果。</p>
<ol>
<li>画一个“流星”角色。<br><img src="https://upload-images.jianshu.io/upload_images/3789580-f0d22f85e802a5d0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></li>
</ol>
<p>提供参考画法，可以根据自己的喜好，网上找或直接选择一个资源库中的角色都可以。<br><img src="https://upload-images.jianshu.io/upload_images/3789580-eaba5a6e8f967703.gif?imageMogr2/auto-orient/strip" alt="画流星.gif"></p>
<p>角色“流星”脚本<br><img src="https://upload-images.jianshu.io/upload_images/3789580-4646bc75c8584601.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>复制2个流星角色。（右键角色，点击“复制”）<br><img src="https://upload-images.jianshu.io/upload_images/3789580-f15051a03b8c292f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>再绘制一个“光晕”角色,用画图画圆即可：<br>脚本，形成一个逐渐变大并消失的“光晕”：<br><img src="https://upload-images.jianshu.io/upload_images/3789580-b55ae4cd5f136f81.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>最后：为了工程更加生动，添加一个背景音乐<br>背景脚本：<br><img src="https://upload-images.jianshu.io/upload_images/3789580-3e3f220551c91199.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<h4 id="工程地址"><a href="#工程地址" class="headerlink" title="工程地址"></a>工程地址</h4><p><a href="https://scratch.mit.edu/projects/236923171" target="_blank" rel="noopener">https://scratch.mit.edu/projects/236923171</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.wangwj.top/2018/07/11/scratch-edu-4/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="老王">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="老王的编程教室">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/11/scratch-edu-4/" itemprop="url">老王教你学编程 scratch初级-4-模拟相遇问题</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-07-11T16:50:38+08:00">
                2018-07-11
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/scratch/" itemprop="url" rel="index">
                    <span itemprop="name">scratch</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-comment-o"></i>
              </span>
              
                <a href="/2018/07/11/scratch-edu-4/#SOHUCS" itemprop="discussionUrl">
                  <span id="url::http://www.wangwj.top/2018/07/11/scratch-edu-4/" class="cy_cmt_count" data-xid="2018/07/11/scratch-edu-4/" itemprop="commentsCount" ></span>
                </a>
              
            
          

          
          
             <span id="/2018/07/11/scratch-edu-4/" class="leancloud_visitors" data-flag-title="老王教你学编程 scratch初级-4-模拟相遇问题">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="课程目标"><a href="#课程目标" class="headerlink" title="课程目标"></a>课程目标</h4><p>学会数据类型中的变量运用</p>
<p>了解如何把数学的相遇问题通过scratch进行模拟</p>
<h4 id="课程对象"><a href="#课程对象" class="headerlink" title="课程对象"></a>课程对象</h4><p>scratch新手 </p>
<h4 id="学习模式建议"><a href="#学习模式建议" class="headerlink" title="学习模式建议"></a>学习模式建议</h4><p>先看教学视频，然后动手做一遍，最后查看本文的知识点回顾加深理解。</p>
<p>完成的童鞋可分享到scratch官网，在评论处发出你的工程地址。</p>
<p>视频实例工程可以在我的scratch工作室内找到：<a href="https://scratch.mit.edu/studios/5220715/" target="_blank" rel="noopener">https://scratch.mit.edu/studios/5220715/</a></p>
<h4 id="视频教程"><a href="#视频教程" class="headerlink" title="视频教程"></a>视频教程</h4><p>地址：<a href="https://www.bilibili.com/video/av26781805/" target="_blank" rel="noopener">https://www.bilibili.com/video/av26781805/</a></p>
<p>推荐高清播放，点击下方视频分辨率调整按钮直接跳转。</p>
<iframe src="//player.bilibili.com/player.html?aid=26781805&cid=46097316&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" width="600" height="500" allowfullscreen="true"> </iframe>

<h4 id="知识点回顾"><a href="#知识点回顾" class="headerlink" title="知识点回顾"></a>知识点回顾</h4><h5 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h5><p>​    scratch或其他语言开发都离不开变量，在scratch中变量的种类分为三种</p>
<p>​    所有角色变量：公共变量，其他角色也能读取和修改</p>
<p>​    仅适用于当前角色：私有变量，其他角色无法读取和修改</p>
<p>​    云变量（本次课程没有涉及）：储存在scratch服务器上的应用全局变量，通常用来保存最高分，或游戏次数</p>
<p>等，仅在网页编辑器可以进行创建。</p>
<p>​    变量的内容可以是数字，字符串。通过数据类型中的“将X设定/增进”进行赋值</p>
<p>​        开发过程中应该多使用变量，少出现“魔法数字”（指在代码中直接出现的数值，只有在这个数值记述的那部分</p>
<p>代码中才能明确了解其含义 ）。好处是利于维护，提升代码可读性。</p>
<p>​    变量使用注意事项：变量命名应该明确，与其作用匹配。角色私有（局部）的变量不应该设定为全局类型，</p>
<p>应该保护私有变量，不让其他角色读取和修改。</p>
<p>​    </p>
<h4 id="关于scratch与其他知识结合"><a href="#关于scratch与其他知识结合" class="headerlink" title="关于scratch与其他知识结合"></a>关于scratch与其他知识结合</h4><p>​    本例演示了小学数学中的相遇问题，在数学教学中强调的是算法，公式或运算模型等，旨在通过既定的方式</p>
<p>得到准确的结果。而scratch演示不仅能生动的展示运行过程，还能通过脚本/程序的模式完成运算，动态的呈现出</p>
<p>一个模拟场景。通过此类应用的开发，会让小孩对该知识点有个立体的理解，再次遇到相关问题中可以在大脑中形</p>
<p>成场景模拟，无论对结果的运算或者举一反三通过程序模拟问题都有很大的帮助。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.wangwj.top/2018/07/09/scratch-edu-2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="老王">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="老王的编程教室">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/09/scratch-edu-2/" itemprop="url">老王教你学编程 scratch初级-2-穿越迷宫</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-07-09T20:18:42+08:00">
                2018-07-09
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/scratch/" itemprop="url" rel="index">
                    <span itemprop="name">scratch</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-comment-o"></i>
              </span>
              
                <a href="/2018/07/09/scratch-edu-2/#SOHUCS" itemprop="discussionUrl">
                  <span id="url::http://www.wangwj.top/2018/07/09/scratch-edu-2/" class="cy_cmt_count" data-xid="2018/07/09/scratch-edu-2/" itemprop="commentsCount" ></span>
                </a>
              
            
          

          
          
             <span id="/2018/07/09/scratch-edu-2/" class="leancloud_visitors" data-flag-title="老王教你学编程 scratch初级-2-穿越迷宫">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="课程目标"><a href="#课程目标" class="headerlink" title="课程目标"></a>课程目标</h4><p>增进脚本循环和判断理解    </p>
<p>学会如何通过按键控制角色移动，学会碰撞检测。</p>
<p>学会通过外观类型中的“说”积木结合字符串连接进行文字输出。</p>
<p>学会自己绘制角色</p>
<p>学会使用计时器判定玩家过关效率</p>
<h4 id="课程对象"><a href="#课程对象" class="headerlink" title="课程对象"></a>课程对象</h4><p>scratch新手</p>
<h4 id="学习模式建议"><a href="#学习模式建议" class="headerlink" title="学习模式建议"></a>学习模式建议</h4><p>先看教学视频，然后动手做一遍，最后查看本文的知识点回顾加深理解。</p>
<p>完成的童鞋可分享到scratch官网，在评论处发出你的工程地址。</p>
<p>视频实例工程可以在我的scratch工作室内找到：<a href="https://scratch.mit.edu/studios/5220715/" target="_blank" rel="noopener">https://scratch.mit.edu/studios/5220715/</a></p>
<h4 id="视频教程"><a href="#视频教程" class="headerlink" title="视频教程"></a>视频教程</h4><p>地址：<a href="https://www.bilibili.com/video/av26480539/" target="_blank" rel="noopener">https://www.bilibili.com/video/av26480539/</a></p>
<p>推荐高清播放，点击下方视频分辨率调整按钮直接跳转。</p>
<iframe src="//player.bilibili.com/player.html?aid=26480539&cid=45517960&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" width="600" height="500" allowfullscreen="true"> </iframe>



<h4 id="知识点回顾"><a href="#知识点回顾" class="headerlink" title="知识点回顾"></a>知识点回顾</h4><h5 id="侦测"><a href="#侦测" class="headerlink" title="侦测"></a>侦测</h5><p><img src="http://pblef6z64.bkt.clouddn.com/1531137531332.png" alt="1531137531332"></p>
<p>碰到*?：对象侦测:用来知道当前角色碰到的具体角色或其他对象：</p>
<p>碰到颜色*?    ：对了侦测是否碰到某颜色，可以点击颜色框触发取色模式（鼠标符号由箭头转换为手指）</p>
<p>按键*是否按下：侦测键盘按键是否被按下</p>
<h5 id="字符串连接"><a href="#字符串连接" class="headerlink" title="字符串连接"></a>字符串连接</h5><p>运算类型中的“连接”：把多个字符串联在一起</p>
<h5 id="运动限制逻辑"><a href="#运动限制逻辑" class="headerlink" title="运动限制逻辑"></a>运动限制逻辑</h5><p>首先判断是否满足限制条件：如本例中碰到迷宫墙壁（碰到黑色）</p>
<p>然后回退之前运动的轨迹。</p>
<p>或者首先判断是否满足限制条件，再决定是否能运动。</p>
<h4 id="作业"><a href="#作业" class="headerlink" title="作业"></a>作业</h4><p>解决猫咪可以从迷宫侧边溜到终点的缺陷。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.wangwj.top/2018/07/09/dialogflow-test/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="老王">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="老王的编程教室">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/09/dialogflow-test/" itemprop="url">dialogflow.com 试玩报告</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-07-09T10:09:41+08:00">
                2018-07-09
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/技术杂记/" itemprop="url" rel="index">
                    <span itemprop="name">技术杂记</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-comment-o"></i>
              </span>
              
                <a href="/2018/07/09/dialogflow-test/#SOHUCS" itemprop="discussionUrl">
                  <span id="url::http://www.wangwj.top/2018/07/09/dialogflow-test/" class="cy_cmt_count" data-xid="2018/07/09/dialogflow-test/" itemprop="commentsCount" ></span>
                </a>
              
            
          

          
          
             <span id="/2018/07/09/dialogflow-test/" class="leancloud_visitors" data-flag-title="dialogflow.com 试玩报告">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>现在无论是在线购买商品或咨询问题，对话机器人或者说智能客服已经成为了不可或缺的部分，仅论量的话“人机”交互早已超过了“人人”交互。而对话式交互更加接近现实，提升查询交互体验的同时为营销等场景提供了更加精确的服务入口。虽然国内巨头都有相应产品，但你会发现他们的网站重在阐述我家产品很牛，如果想了解一些基本概念有所收获的话，推荐谷大爷的dailogflow。这个网站竟然需要科学上网 - - ||<br>下文主要根据网站的文档了解概念并依据示例实践一些基本功能，如果你感兴趣，又不方便翻墙，花几分钟看下本文就能有个简单的了解，如果有“条件”，看完之后建议自己玩一下更加深刻。<br>下面简介内容来自官方英文文档，英文好的话可以忽略我的中文翻译，中文括号为补充说明。</p>
<h4 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h4><p>The process a Dialogflow agent follows from invocation to fulfillment is similar to someone answering a question, with some liberties taken of course. In the example scenario below, the same question is being asked, but we compare the “human to human” interaction with a conversation with an Dialogflow agent.<br>Dialogflow agent（对话代理）调用流程和同某人自由问答类似。如同下面给出的例子，基于一个同样的问题，比较真实情况下人们之间的对话与对话代理之间的区别。</p>
<h5 id="Welcome-欢迎-开场白"><a href="#Welcome-欢迎-开场白" class="headerlink" title="Welcome 欢迎/开场白"></a>Welcome 欢迎/开场白</h5><p>Bill’s friend Harry wants to ask him a question. So as not to be rude, Harry says “Hello” to Bill first.<br>张三的朋友李四想问他一个问题，为了不失礼貌最好先打个招呼，“你好”。（所以同样的，对话代理也需要设定一个开场白来回复用户，例如用户说你好的时候回复“有什么可以帮到您？”）</p>
<h5 id="Invocation-调用"><a href="#Invocation-调用" class="headerlink" title="Invocation 调用"></a>Invocation 调用</h5><p>In order to start a conversation with an agent, the user needs to invoke the agent. A user does this by asking to speak with the agent in a manner specified by the agent’s developer.<br>为了进行人机对话，用户需要先启动一个对应代理。用户通过代理开发人员提供的特定流程进行对话。（用户在开发人员提供的应用场景内触发机器对话）</p>
<h5 id="Request-提问"><a href="#Request-提问" class="headerlink" title="Request 提问"></a>Request 提问</h5><p>Harry asks Bill “What’s the weather supposed to be like in San Francisco tomorrow?” Because Bill is familiar with the city and the concept of weather, he knows what Harry is asking for.<br>李四问张三：“明天旧金山天气怎么样”，因为张三更加熟悉这座城市和天气方面的知识，他知道怎么回答李四。</p>
<h5 id="Intent-意图"><a href="#Intent-意图" class="headerlink" title="Intent 意图"></a>Intent 意图</h5><p>A user asks the agent “What’s the weather supposed to be like in San Francisco tomorrow?” In Dialogflow, an intent houses elements and logic to parse information from the user and answer their requests.<br>在Dialogflow中，当用户问旧金山明天天气怎么样时，一个意图相关元素和逻辑会识别用户提问和回答对应问题。（Dialogflow 理解问题的方式是从对话信息中获得用户的意图）</p>
<h5 id="User-says-用户可能会这么问"><a href="#User-says-用户可能会这么问" class="headerlink" title="User says 用户可能会这么问"></a>User says 用户可能会这么问</h5><p>For the agent to understand the question, it needs examples of how the same question can be asked in different ways. Developers add these permutations to the User Says section of the intent. The more variations added to the intent, the better the agent will comprehend the user.<br>为了让对话代理理解用户提出的问题，需要先给出同样问题用户可能会提问的方式。开发人员添加用户说话方式组合到对应的意图中。添加的例子越多，对话代理就越能理解用户。（Dialogflow需要预设一些谈话例子，在此基础上通过技术手段把问题“扩展”，当用户提问不完全与例子相同也能判断出其实是一个问题）</p>
<h5 id="Entities-实体"><a href="#Entities-实体" class="headerlink" title="Entities 实体"></a>Entities 实体</h5><p>The Dialogflow agent needs to know what information is useful for answering the user’s request. These pieces of data are called entities. Entities like time, date, and numbers are covered by system entities. Other entities, like weather conditions or seasonal clothing, need to be defined by the developer so they can be recognized as an important part of the question.<br>对话代理需要知道用户提问中的关键信息，这些数据被定义为实体：例如时间，日期以及很多系统自带实体；还包括例如天气条件，季节性穿着，还有需要由开发人员自定义的实体信息以便系统能识别为关键信息。（如果觉得实体这俩个字比较抽象，可以近似的理解为关键词，或者同义词）</p>
<h5 id="Fulfillment-实现（场景）"><a href="#Fulfillment-实现（场景）" class="headerlink" title="Fulfillment 实现（场景）"></a>Fulfillment 实现（场景）</h5><p>Armed with the information Bill needs, he searches for the answer using his favorite weather provider. He enters the location and time to get the results he needs.<br>李四使用他最喜欢的能提供他所需信息的天气应用，通过输入地点和时间获得他所需的结果。</p>
<h5 id="Fulfillment-Request-实现请求"><a href="#Fulfillment-Request-实现请求" class="headerlink" title="Fulfillment Request 实现请求"></a>Fulfillment Request 实现请求</h5><p>Dialogflow sends this information to your webhook, which subsequently fetches the data needed (per your development). Your webhook parses that data, determines how it would like to respond, and sends it back to Dialogflow<br>Dialogflow向你开发的web服务接口发送信息，获得所需信息，该接口用来解析请求并将答复返回给Dialogflow（Dialogflow 分析出意图，然后根据开发人员针对该意图预设的操作调用相应的接口，最后向用户展示答复）</p>
<h5 id="Response-“人类对话答复”"><a href="#Response-“人类对话答复”" class="headerlink" title="Response “人类对话答复”"></a>Response “人类对话答复”</h5><p>After scanning the page for the relevant info, Bill tells Harry “It looks like it’s going to be 65 and overcast tomorrow.”<br>张三在查询过相关网站后，回答李四：“明天温度为18度左右，阴天”</p>
<h5 id="Response-“Dialogflow对话答复”"><a href="#Response-“Dialogflow对话答复”" class="headerlink" title="Response “Dialogflow对话答复”"></a>Response “Dialogflow对话答复”</h5><p>With the formatted reply “in hand”, Dialogflow delivers the response to your user. “It looks like it’s going to be 65 and overcast tomorrow.”<br>通过格式化现有回复数据（例如通过上面提到的web服务接口获得数据），Dialogflow推送答复给用户：“明天温度为18度左右，阴天”。</p>
<h5 id="Context-“人类对话上下文”"><a href="#Context-“人类对话上下文”" class="headerlink" title="Context “人类对话上下文”"></a>Context “人类对话上下文”</h5><p>Now that the conversation is on the topic of weather, Bill won’t be thrown off if Harry asks “How about the day after that?” Because Harry had asked about San Francisco, follow up questions will more than likely be about the same city, unless Harry specifies a new one.<br>现在谈话的主题是天气，当张三继续提问“那后天呢？” ，李四会认为他还想知道当前讨论城市旧金山后天的天气，除非张三在提问中特指了新的。</p>
<h5 id="Context-“Dialogflow对话上下文”"><a href="#Context-“Dialogflow对话上下文”" class="headerlink" title="Context “Dialogflow对话上下文”"></a>Context “Dialogflow对话上下文”</h5><p>Similar to Bill’s scenario, context can be used to keep parameter values, from one intent to another. Contexts are also used to repair a conversation that has been broken by a user or system error, as well as branch conversations to different intents, depending on the user’s response.<br>同人类间对话类似，Dialogflow对话保存上下文参数，即使从当前意图转化为另一个意图。上下文也经常用来修复对话中断和系统异常，或者根据用户的回复切换到不同的意图场景，。<br>（中断场景例如今天问了旧金山天气，即使过几天再来问“天气咋样？”，也能根据之前的对话上下文判断是在问旧金山的天气）</p>
<h4 id="光说不练假把式"><a href="#光说不练假把式" class="headerlink" title="光说不练假把式"></a>光说不练假把式</h4><p>参考文档创建一个天气对话代理。<br>新建agent 输入名字 weatherAgent ,选择语言为英语 。然后点创建<br><img src="http://upload-images.jianshu.io/upload_images/3789580-10865d736c8d1b62.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>然后你会进入该代理的控制台：<br><img src="http://upload-images.jianshu.io/upload_images/3789580-fe0a4d8aa88c819f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>点击创建意图<br>在User says 输入框内输入 “Weather forecast in San Francisco tomorrow “<br>此处注意一个特殊操作，当你选择语句的一段时会弹框出参数配置，可以根据过滤器（fliter）输入框检索出你需要的那个参数<br><img src="http://upload-images.jianshu.io/upload_images/3789580-af761be3ab2039eb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>下面是配置好的样子<br><img src="http://upload-images.jianshu.io/upload_images/3789580-8282d6937e3d9199.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>添加意图对应的回复，在Response中添加语句：“I don’t kown the weather for $date and  $geo-city”，注意输入$时会如下面所示弹出下拉框给你选择。<br><img src="http://upload-images.jianshu.io/upload_images/3789580-77430a4586d60423.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>点击右上角的保存按钮后来试试生效了没，在最右上角的“try it now”中输入刚才你保存的用户问句。<br><img src="http://upload-images.jianshu.io/upload_images/3789580-bb8f74f7772bc203.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>可以看到生效了，不仅回答了我问题，还把参数部分替换为我的问句内容，当前提问时间是1月7日，但问的问题是明天，所以date部分为1月8日。<br>让我们来考考它，换一个说法：“How about the weather in San Francisco tomorrow”<br><img src="http://upload-images.jianshu.io/upload_images/3789580-53a554ae2027ea4a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>可以看到上图所示，还是分析出来了，66666<br>可以尝试问下周的天气：Weather forecast in San Francisco one week later ，类似问题也同样能解析出对应的时期：<br><img src="http://upload-images.jianshu.io/upload_images/3789580-5c85265d632a20fb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>接下来创建一个实体，配置一个和天气–Weather同义的词<br><img src="http://upload-images.jianshu.io/upload_images/3789580-c30814460aca6b6e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>如上图，先输入weather 然后在当前行继续输入“tianqi” ，可以追加输入数个随意单词作为同义词。点击保存，试一下：<br><img src="http://upload-images.jianshu.io/upload_images/3789580-d0a34aa03cbf0821.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>生效了～<br>最后再提一下Integrations-集成功能，在集成配置中开启Web Demo开关：<br><img src="http://upload-images.jianshu.io/upload_images/3789580-72a8d3610afed86e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>浏览器打开提示链接<a href="https://bot.dialogflow.com/X(X二级地址可以自定义)" target="_blank" rel="noopener">https://bot.dialogflow.com/X(X二级地址可以自定义)</a><br><img src="http://upload-images.jianshu.io/upload_images/3789580-f8a95537534737e0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>怎么样，很方便吧？</p>
<h4 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h4><p>Dialogflow通过极简的方式提供了很多强大的功能，例如官方文档详细说明的如何通过自定义接口接受意图并返回答复，以及各类客户端集成办法，还有不断新增的识别训练等功能。<br>比较遗憾的是虽然提供了看似挺丰富的中文语言选项（简体，繁体，粤语/HK），但支持的不是很好，没有实现英文的用户问答那样配置一个例子，能扩展识别多种问法，所以示例用了英文，相信未来会逐步支持。<br>本文中仅仅叙述了平台几个功能，用它能实现的交互场景太多太多。欢迎大家提供看法一起讨论，以及提出本文错漏的部分。感谢你的阅读。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.wangwj.top/2018/07/09/jenkins-spring/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="老王">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="老王的编程教室">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/09/jenkins-spring/" itemprop="url">linux环境下使用docker：jenkins对spring boot工程进行部署</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-07-09T10:06:12+08:00">
                2018-07-09
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/技术杂记/" itemprop="url" rel="index">
                    <span itemprop="name">技术杂记</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-comment-o"></i>
              </span>
              
                <a href="/2018/07/09/jenkins-spring/#SOHUCS" itemprop="discussionUrl">
                  <span id="url::http://www.wangwj.top/2018/07/09/jenkins-spring/" class="cy_cmt_count" data-xid="2018/07/09/jenkins-spring/" itemprop="commentsCount" ></span>
                </a>
              
            
          

          
          
             <span id="/2018/07/09/jenkins-spring/" class="leancloud_visitors" data-flag-title="linux环境下使用docker：jenkins对spring boot工程进行部署">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="获得jenkins-镜像"><a href="#获得jenkins-镜像" class="headerlink" title="获得jenkins 镜像"></a>获得jenkins 镜像</h3><p>搜索jenkins相关镜像<br><code>docker  search jenkins</code><br><img src="http://upload-images.jianshu.io/upload_images/3789580-bdbea4e6dfe9be12.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>可以看到官方提供的镜像有OFFICAIAL标识<br>通常也可以到docker store搜到所需镜像的使用说明 <a href="https://hub.docker.com/_/jenkins/" target="_blank" rel="noopener">我是链接</a><br>下载链接<br><code>docker pull jenkins</code></p>
<h3 id="启动镜像"><a href="#启动镜像" class="headerlink" title="启动镜像"></a>启动镜像</h3><p><code>docker run -d  -p 8080:8080 -p 50000:50000 -v /jenkins:/var/jenkins_home jenkins</code><br>-d的意思是后台运行<br>-v  +  本地路径：容器路径 ：示例为将容器的/var/jenkins_home路径挂载到本地/jenkins 这么做的原因是/var/jenkins_home 为jenkins的运行文件目录，保存运行相关数据，如果不挂载到本地，当前镜像进程结束后不属于镜像的文件就会丢失。可以理解为镜像本身是不变的，每次运行都是从头开始。</p>
<h3 id="登录并初始化"><a href="#登录并初始化" class="headerlink" title="登录并初始化"></a>登录并初始化</h3><p>浏览器通过地址：8080端口访问<br>提示输入秘钥<br><img src="http://upload-images.jianshu.io/upload_images/3789580-214d97a57e9c7552.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>由于是后台启动镜像，日志没有输出到终端内，可以从启动日志中查询秘钥：<br>1：查询当前运行镜像的ID<br>查询状态命令：<code>docker ps</code></p>
<p><img src="http://upload-images.jianshu.io/upload_images/3789580-8b2bf95ee83699a1.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>2：查询日志命令<br><code>docker logs -f -t --since=&quot;2017-05-31&quot;  ${id}</code><br>根据上一步查询到的ID：输入命令<br><code>docker logs -f -t --since=&quot;2017-05-31&quot; 2833f00d6755</code><br>可以秘钥<br><img src="http://upload-images.jianshu.io/upload_images/3789580-448303114894407e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>填入秘钥后提供初始化选项，我选择install suggested plugin<br><img src="http://upload-images.jianshu.io/upload_images/3789580-6855fb2d25ace912.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>接着会进行一系列安装，完毕会要求你填写管理员账户信息<br><img src="http://upload-images.jianshu.io/upload_images/3789580-bd3e207e95707813.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>填写后即可启动：<br><img src="http://upload-images.jianshu.io/upload_images/3789580-855cb0fd4dca0264.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br><img src="http://upload-images.jianshu.io/upload_images/3789580-7e6919791f801d45.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<h3 id="安装全局工具"><a href="#安装全局工具" class="headerlink" title="安装全局工具"></a>安装全局工具</h3><p><img src="http://upload-images.jianshu.io/upload_images/3789580-b58aeafb0e49a3b0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br><img src="http://upload-images.jianshu.io/upload_images/3789580-ab0b1937009ab0f9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>JDK</p>
<p><img src="http://upload-images.jianshu.io/upload_images/3789580-7e3d6ca3558fdb97.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>git<br><img src="http://upload-images.jianshu.io/upload_images/3789580-c2beaf21d045e040.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>maven<br><img src="http://upload-images.jianshu.io/upload_images/3789580-bbae30e645c819d8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>点击save保存变更</p>
<h3 id="安装maven项目插件"><a href="#安装maven项目插件" class="headerlink" title="安装maven项目插件"></a>安装maven项目插件</h3><p><img src="http://upload-images.jianshu.io/upload_images/3789580-a23df69d9c814fa3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br><img src="http://upload-images.jianshu.io/upload_images/3789580-cb0ad176bfe27744.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p><img src="http://upload-images.jianshu.io/upload_images/3789580-3c5a31ffc3cf56de.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<h3 id="安装通过SSH发布插件"><a href="#安装通过SSH发布插件" class="headerlink" title="安装通过SSH发布插件"></a>安装通过SSH发布插件</h3><p>用于打包结束后把jar包远程发布到运行服务器用（注：这只是运行应用的一种办法）<br>在插件管理中安装该插件：<br><img src="http://upload-images.jianshu.io/upload_images/3789580-9e622da79f066742.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>在系统设置里配置远程服务器<br><img src="http://upload-images.jianshu.io/upload_images/3789580-fee90b65c1969013.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>配置远程连接属性：<br>name：后续指定连接服务器<br>hostname:远程服务器ip<br>username:用户名<br>passphrase:密码<br><img src="http://upload-images.jianshu.io/upload_images/3789580-46df41f6fa9aa180.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>配置完后记得保存。</p>
<h3 id="创建一个maven-项目"><a href="#创建一个maven-项目" class="headerlink" title="创建一个maven 项目"></a>创建一个maven 项目</h3><p><img src="http://upload-images.jianshu.io/upload_images/3789580-472a69568e5005c5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p><img src="http://upload-images.jianshu.io/upload_images/3789580-93a05a50f2b5b10d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<h4 id="配置代码来源："><a href="#配置代码来源：" class="headerlink" title="配置代码来源："></a>配置代码来源：</h4><p>示例选择git<br>首先填写用户名密码<br><img src="http://upload-images.jianshu.io/upload_images/3789580-0f9013db73aaef07.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br><img src="http://upload-images.jianshu.io/upload_images/3789580-01f344db75049880.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>然后填写url<br><img src="http://upload-images.jianshu.io/upload_images/3789580-31475fa544884c3f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<h4 id="构建配置"><a href="#构建配置" class="headerlink" title="构建配置"></a>构建配置</h4><p><img src="http://upload-images.jianshu.io/upload_images/3789580-1bda3fa5f092d20c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<h4 id="运行工程jar包"><a href="#运行工程jar包" class="headerlink" title="运行工程jar包"></a>运行工程jar包</h4><p>这里使用的通过SSH方式连接一个服务器，然后运行一个脚本 ：<br><img src="http://upload-images.jianshu.io/upload_images/3789580-20adf35e71a78cbf.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>脚本很简单：大致为查询已经运行的服务进程号，如有则删除，然后运行打包出来的这个jar包。spring boot集成了web容器，所以可以直接通过jar命令启动<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">kill -9 `ps aux | grep com.progen.Application | grep -v grep | awk &apos;&#123;print $2&#125;&apos;`</span><br><span class="line">cp /dev/null nohup.out</span><br><span class="line">nohup /jenkins/tools/hudson.model.JDK/bin/java -jar /jenkins/workspace/test/target/progen-0.0.1.jar com.progen.Application &amp;</span><br><span class="line">exit 0</span><br></pre></td></tr></table></figure></p>
<p>其实是本地运行，就“偷懒”使用jenkin安装的那个（ /jenkins/tools/hudson.model.JDK/bin/java）,而/jenkins/workspace/test/target/为打包的路径，所以在source files 和Remote directory没有配置，既没有吧本地的jar包传输到远程目录。<br><img src="http://upload-images.jianshu.io/upload_images/3789580-35e8684ff92f2e7b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>仅配置运行脚本<br><img src="http://upload-images.jianshu.io/upload_images/3789580-f2c021d59c1fe9d5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>这里运行的时候需要加上nohup ，不然运行结束后jenkins没有判断为成功结束，构建结果会显示为超时而不是成功。</p>
<p><img src="http://upload-images.jianshu.io/upload_images/3789580-4c449216a97203da.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.wangwj.top/2018/07/06/scratch-edu-1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="老王">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="老王的编程教室">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/06/scratch-edu-1/" itemprop="url">老王教你学编程 scratch初级-1-月球漫步</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-07-06T09:48:42+08:00">
                2018-07-06
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/scratch/" itemprop="url" rel="index">
                    <span itemprop="name">scratch</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-comment-o"></i>
              </span>
              
                <a href="/2018/07/06/scratch-edu-1/#SOHUCS" itemprop="discussionUrl">
                  <span id="url::http://www.wangwj.top/2018/07/06/scratch-edu-1/" class="cy_cmt_count" data-xid="2018/07/06/scratch-edu-1/" itemprop="commentsCount" ></span>
                </a>
              
            
          

          
          
             <span id="/2018/07/06/scratch-edu-1/" class="leancloud_visitors" data-flag-title="老王教你学编程 scratch初级-1-月球漫步">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="课程目标"><a href="#课程目标" class="headerlink" title="课程目标"></a>课程目标</h4><p>对scratch进行初步认识，了解基础概念：舞台，角色，脚本，造型，背景，声音。</p>
<h4 id="课程对象"><a href="#课程对象" class="headerlink" title="课程对象"></a>课程对象</h4><p>才接触scratch，从未应用上述概念完成过一个工程的新手。</p>
<h4 id="学习模式建议"><a href="#学习模式建议" class="headerlink" title="学习模式建议"></a>学习模式建议</h4><p>先看教学视频，然后动手做一遍，最后查看本文的知识点回顾加深理解。</p>
<p>完成的童鞋可分享到scratch官网，在评论处发出你的工程地址。</p>
<p>视频实例工程可以在我的scratch工作室内找到：<a href="https://scratch.mit.edu/studios/5220715/" target="_blank" rel="noopener">https://scratch.mit.edu/studios/5220715/</a></p>
<h4 id="视频教程"><a href="#视频教程" class="headerlink" title="视频教程"></a>视频教程</h4><p>地址：<a href="https://www.bilibili.com/video/av26086604/" target="_blank" rel="noopener">https://www.bilibili.com/video/av26086604/</a></p>
<p>推荐高清播放，点击下方视频分辨率调整按钮直接跳转。</p>
<iframe src="//player.bilibili.com/player.html?aid=26086604&cid=44729337&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" width="600" height="500" allowfullscreen="true"> </iframe>

<h4 id="知识点回顾"><a href="#知识点回顾" class="headerlink" title="知识点回顾"></a>知识点回顾</h4><p>工程主要组成元素为舞台和角色：</p>
<p>​    舞台由一个或多个背景组成，每个舞台包含对应的：脚本，背景，声音</p>
<p>​    角色由一个或多个角色组成，每个角色包含对应的：脚本，造型，声音</p>
<p><img src="http://pblef6z64.bkt.clouddn.com/1531129473855.png" alt="img"></p>
<p>脚本逻辑通常从脚本事件类型中的“当绿旗被点击”积木开始：</p>
<p><img src="http://pblef6z64.bkt.clouddn.com/1531131228120.png" alt="1531131228120"></p>
<p>循环积木：程序需要不断执行某个逻辑时使用，大多工程都包含这个积木，用于不断的执行角色形态变化（形成动画），判断某个条件是否满足，播放循环音乐等场景。</p>
<p><img src="http://pblef6z64.bkt.clouddn.com/1531136216683.png" alt="1531136216683"></p>
<p>​              </p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.wangwj.top/2018/07/05/scratch-edu-0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="老王">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="老王的编程教室">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/05/scratch-edu-0/" itemprop="url">老王教你学编程 Scratch教程-序</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-07-05T12:00:00+08:00">
                2018-07-05
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/scratch/" itemprop="url" rel="index">
                    <span itemprop="name">scratch</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-comment-o"></i>
              </span>
              
                <a href="/2018/07/05/scratch-edu-0/#SOHUCS" itemprop="discussionUrl">
                  <span id="url::http://www.wangwj.top/2018/07/05/scratch-edu-0/" class="cy_cmt_count" data-xid="2018/07/05/scratch-edu-0/" itemprop="commentsCount" ></span>
                </a>
              
            
          

          
          
             <span id="/2018/07/05/scratch-edu-0/" class="leancloud_visitors" data-flag-title="老王教你学编程 Scratch教程-序">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="scratch是什么"><a href="#scratch是什么" class="headerlink" title="scratch是什么"></a>scratch是什么</h3><p>Scratch是一款由<a href="https://baike.baidu.com/item/%E9%BA%BB%E7%9C%81%E7%90%86%E5%B7%A5%E5%AD%A6%E9%99%A2" target="_blank" rel="noopener">麻省理工学院</a>（MIT） 设计开发的少儿编程工具。 多语言（包含简体中文），开源，完全免费。</p>
<p>简单来说：通过鼠标拖拽即可完成程序逻辑的构建，使用者无需像学习各个编程语言那样了解语法，可以直接通过</p>
<p>图形化界面完成工程的编写，在官方提供的基本资源库（图片，声音）下即可完成各式各样的游戏等程序开发。你</p>
<p>可以用它做一个游戏，画一幅画，做一个电子相册，做一个动画，讲一个故事，做一个生动的问答测试等等。</p>
<p>以最简单有趣的方式提供一个能够自由发挥的编程平台，这是我对scratch的评价。</p>
<p>注：除非特指，本教程scratch版本默认为最新版本scratch2。</p>
<h3 id="scratch-如何运行"><a href="#scratch-如何运行" class="headerlink" title="scratch 如何运行"></a>scratch 如何运行</h3><p>浏览器在线：官方网站：<a href="https://scratch.mit.edu/" target="_blank" rel="noopener">https://scratch.mit.edu/</a></p>
<p>脱机离线软件： 下载链接：<a href="https://scratch.mit.edu/download" target="_blank" rel="noopener">https://scratch.mit.edu/download</a></p>
<p>俩者界面一致，但在线模式由于服务器在国外的原因，加载和读取资源稍慢，好处是云端储存不用安装。</p>
<p>在线和离线方式都可以分享工程至官方网站，与全球scratch爱好者分享和交流你的成果。</p>
<h3 id="本教程主要面向"><a href="#本教程主要面向" class="headerlink" title="本教程主要面向"></a>本教程主要面向</h3><pre><code>1. 家长，学会后教给孩子，亲子教育两不误
2. 感兴趣的儿童/少年，能够跟着教程自学
3. 儿童编程相关从业者，多多交流，共同进步
4. 对图形化编程或者编程感兴趣的童鞋
</code></pre><h3 id="为什么学习scratch"><a href="#为什么学习scratch" class="headerlink" title="为什么学习scratch"></a>为什么学习scratch</h3><p>除了网络中搜到的相关原因之外，从编程语言学习本身出发，学习scratch与其他编程语言如：</p>
<p>java,c++,python一样，学习语言本身就是学会如何与“计算机”沟通，如何把现实问题转换成机器语言，但scratch</p>
<p>却着非常低的学习门槛。</p>
<p>首先，scratch开发环境无需特别搭建，图形化的编程模式使得开发者无需理解繁琐的关键词，特殊语法，以及系</p>
<p>统函数，可以做到“打开既开始”。</p>
<p>其次，scratch把编程所需的函数，概念以及各种行为模式分类封装成积木，并根据卡槽类型规范了积木组合</p>
<p>模式。原生整合了丰富的图片和声音资源，并且提供了完整度很高的中文支持。</p>
<p>最后，全球的工程资源都共享在统一平台，供开发者学习和展示，逐渐形成了一个完善的生态链。</p>
<h4 id="开发一个应用会经历些什么"><a href="#开发一个应用会经历些什么" class="headerlink" title="开发一个应用会经历些什么"></a>开发一个应用会经历些什么</h4><ol>
<li><p>思考目的，考虑可行性，构造结果</p>
<ol>
<li>将抽象的思维转换成具体的目的</li>
<li>考虑利用现有资源是否能完成</li>
<li>在大脑中构造一个基本结果并模拟运作</li>
</ol>
</li>
<li><p>把思维转换成scratch语言</p>
<ol>
<li>学会用“别人”的逻辑思考问题</li>
<li>把完整的结果分为几个步骤或模块进行考虑</li>
<li>在大脑中或通过其他方式完成设计</li>
</ol>
</li>
<li><p>实践：尝试，碰壁，寻求帮助。</p>
<ol>
<li>一边动脑一边动手</li>
<li>遇到困难，学会借助帮助或搜索引擎解决问题</li>
</ol>
</li>
<li><p>验证：程序是否符合期望</p>
<ol>
<li>不仅完成，还需要检查结果</li>
<li>越仔细，测试的路径越完整，呈现后出现的问题越少</li>
</ol>
</li>
<li><p>思考并调整：再已经完成的基础上寻求更好的解决方案</p>
<ol>
<li>永远都有更好的方案</li>
<li>大多好的工程都是渐进完成的</li>
</ol>
</li>
<li><p>呈现：提交他人可以体验的结果。</p>
<ol>
<li>共享结果，分享经验</li>
<li>获得属于自己的成就感</li>
</ol>
</li>
</ol>
<p>   可以看出这个过程同现实中完成一个任务非常类似，区别是这个过程成本极低，却能让孩子</p>
<p>得到宝贵的经验。如此对思维反复的训练，积累的结果还可以应用在生活或者其他学习过程中。</p>
<h4 id="教程内容导向"><a href="#教程内容导向" class="headerlink" title="教程内容导向"></a>教程内容导向</h4><p>​    本教程不仅旨在教会scratch的使用，更在课程中引入了儿童（甚至青少年）数学，物理，科学等各个方面的</p>
<p>知识，以游戏等其他类型工程开发为例，让学习者在学会scratch编程之外更生动的巩固或学到各类知识。</p>
<h4 id="时代背景"><a href="#时代背景" class="headerlink" title="时代背景"></a>时代背景</h4><p>​    这个时代离不开编程，生活的每一个环节都和软件,程序离不开关系，人工智能是否会取代大部分工</p>
<p>作尚未得知，但未来一定离不开编程，而且编程将不再是一个专业的职业方向，会变成更加“平民化”，成为类似与</p>
<p>骑车，算术一样的基本技能，人们在遇到复杂问题的时候不再通过“原始”的办法进行解决，转而选择使用智能和自</p>
<p>动化的方式，届时编程能力或者运用程序的能力就等同于解决问题的能力。</p>
<blockquote>
<p>准备好了？ 那我们开始吧</p>
</blockquote>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  


          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">老王</p>
              <p class="site-description motion-element" itemprop="description">层楼终究误少年,自由早晚乱余生。</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">7</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">2</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">7</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">wangwj</span>

  
</div>









        
<div class="busuanzi-count">
  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv">
      <i class="fa fa-user"></i> 访问人数
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
      
    </span>
  

  
    <span class="site-pv">
      <i class="fa fa-eye"></i> 总访问量
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
      次
    </span>
  
</div>








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  




  
    <script id="cy_cmt_num" src="https://changyan.sohu.com/upload/plugins/plugins.list.count.js?clientId=cytHfIp4z"></script>
  









  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.4.js"></script>
  <script>AV.initialize("JJorq9BQcjbP7EETAjHXxX29-gzGzoHsz", "KHrsqAeQKax0D4VNac10Fc4r");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

  

  
  

  

  

  

</body>
</html>
